{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useState}from\"react\";import axios from'axios';export default function useProductsPost(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var postProducts=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(postData){var config,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);config={headers:{'Content-Type':'application/json'}};_context.prev=2;_context.next=5;return axios.post('http://localhost:8000/purchase',postData,config);case 5:response=_context.sent;alert(\"Your purchase has been successful! We have received \\xA3\".concat(response.data.total));setIsLoading(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.error(_context.t0.response.data);setIsLoading(false);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);return[{postProducts:postProducts,isLoading:isLoading}];}","map":{"version":3,"names":["useCallback","useState","axios","useProductsPost","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","postProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","postData","config","response","wrap","_callee$","_context","prev","next","headers","post","sent","alert","concat","data","total","t0","console","error","stop","_x","apply","arguments"],"sources":["/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/src/hooks/useProductsPost.js"],"sourcesContent":["import {useCallback, useState} from \"react\"\nimport axios from 'axios'\n\nexport default function useProductsPost() {\n    const [isLoading, setIsLoading] = useState(false);\n  \n    const postProducts = useCallback(async (postData) => {\n      setIsLoading(true);\n\n      let config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n  \n      try {\n        const response = await axios.post('http://localhost:8000/purchase', postData, config);\n        alert(`Your purchase has been successful! We have received Â£${response.data.total}`)\n  \n        setIsLoading(false);\n      } catch (error) {\n        console.error(error.response.data);\n        setIsLoading(false);\n      }\n    }, []);\n  \n    return [{postProducts, isLoading}];\n  }"],"mappings":"waAAA,OAAQA,WAAW,CAAEC,QAAQ,KAAO,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,cAAe,SAAS,CAAAC,eAAeA,CAAA,CAAG,CACtC,IAAAC,SAAA,CAAkCH,QAAQ,CAAC,KAAK,CAAC,CAAAI,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B,GAAM,CAAAI,YAAY,CAAGT,WAAW,6BAAAU,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,QAAQ,MAAAC,MAAA,CAAAC,QAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC9Cd,YAAY,CAAC,IAAI,CAAC,CAEdQ,MAAM,CAAG,CACXO,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAAH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGwB,CAAApB,KAAK,CAACsB,IAAI,CAAC,gCAAgC,CAAET,QAAQ,CAAEC,MAAM,CAAC,QAA/EC,QAAQ,CAAAG,QAAA,CAAAK,IAAA,CACdC,KAAK,4DAAAC,MAAA,CAAyDV,QAAQ,CAACW,IAAI,CAACC,KAAK,CAAE,CAAC,CAEpFrB,YAAY,CAAC,KAAK,CAAC,CAACY,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAEpBW,OAAO,CAACC,KAAK,CAACZ,QAAA,CAAAU,EAAA,CAAMb,QAAQ,CAACW,IAAI,CAAC,CAClCpB,YAAY,CAAC,KAAK,CAAC,CAAC,yBAAAY,QAAA,CAAAa,IAAA,MAAAnB,OAAA,iBAEvB,mBAAAoB,EAAA,SAAAxB,IAAA,CAAAyB,KAAA,MAAAC,SAAA,QAAE,EAAE,CAAC,CAEN,MAAO,CAAC,CAAC3B,YAAY,CAAZA,YAAY,CAAEF,SAAS,CAATA,SAAS,CAAC,CAAC,CACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}