{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useCallback}from\"react\";import axios from'axios';export default function useProductsGet(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDataFetched=_useState4[0],setIsDataFetched=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];//declares the async data fetching function\nvar getProducts=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return axios.get('http://localhost:8000/products');case 4:response=_context.sent;setData(response.data);setIsDataFetched(true);setIsLoading(false);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);})),[]);//calls the fetching function on mount\nuseEffect(function(){if(!isDataFetched){getProducts();}},[getProducts,isDataFetched]);return[{data:data,setData:setData,isLoading:isLoading}];}","map":{"version":3,"names":["useState","useEffect","useCallback","axios","useProductsGet","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","isDataFetched","setIsDataFetched","_useState5","_useState6","isLoading","setIsLoading","getProducts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","t0","console","error","stop"],"sources":["/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/src/hooks/useProductsGet.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\"\nimport axios from 'axios'\n\nexport default function useProductsGet() {\n  const [data, setData] = useState()\n  const [isDataFetched, setIsDataFetched] = useState(false);\n  const [isLoading, setIsLoading] = useState(true)\n\n\n  //declares the async data fetching function\n  const getProducts = useCallback(async () => {\n    setIsLoading(true)\n\n    try {\n      const response = await axios.get('http://localhost:8000/products')\n\n      setData(response.data)\n      setIsDataFetched(true)\n      setIsLoading(false)\n\n    } catch (error) {\n      console.error(error)\n    }\n  }, [])\n\n  //calls the fetching function on mount\n  useEffect(()=> { \n    if(!isDataFetched) {\n      getProducts()\n    }\n  }, [getProducts, isDataFetched])\n\n  return [{data, setData, isLoading}]\n}"],"mappings":"waAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CACxD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,cAAe,SAAS,CAAAC,cAAcA,CAAA,CAAG,CACvC,IAAAC,SAAA,CAAwBL,QAAQ,CAAC,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAA0CV,QAAQ,CAAC,KAAK,CAAC,CAAAW,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAlDE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtC,IAAAG,UAAA,CAAkCd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAG9B;AACA,GAAM,CAAAG,WAAW,CAAGhB,WAAW,cAAAiB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC9BX,YAAY,CAAC,IAAI,CAAC,CAAAS,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGO,CAAAzB,KAAK,CAAC0B,GAAG,CAAC,gCAAgC,CAAC,QAA5DN,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CAEdrB,OAAO,CAACc,QAAQ,CAACf,IAAI,CAAC,CACtBK,gBAAgB,CAAC,IAAI,CAAC,CACtBI,YAAY,CAAC,KAAK,CAAC,CAAAS,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAGnBM,OAAO,CAACC,KAAK,CAAAP,QAAA,CAAAK,EAAM,CAAC,0BAAAL,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,iBAEvB,GAAE,EAAE,CAAC,CAEN;AACArB,SAAS,CAAC,UAAK,CACb,GAAG,CAACW,aAAa,CAAE,CACjBM,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CAAE,CAACA,WAAW,CAAEN,aAAa,CAAC,CAAC,CAEhC,MAAO,CAAC,CAACJ,IAAI,CAAJA,IAAI,CAAEC,OAAO,CAAPA,OAAO,CAAEO,SAAS,CAATA,SAAS,CAAC,CAAC,CACrC"},"metadata":{},"sourceType":"module","externalDependencies":[]}