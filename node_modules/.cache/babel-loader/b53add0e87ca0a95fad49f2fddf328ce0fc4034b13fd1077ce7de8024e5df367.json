{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nimport axios from 'axios';\nexport default function useProductsGet() {\n  _s();\n  const [data, setData] = useState();\n  const [isDataFetched, setIsDataFetched] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  //declares the async data fetching function\n  const getProducts = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get('http://localhost:8000/products');\n      setData(response.data);\n      setIsDataFetched(true);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(error);\n    }\n  }, []);\n\n  //calls the fetching function on mount\n  useEffect(() => {\n    if (!isDataFetched) {\n      getProducts();\n    }\n  }, [getProducts, isDataFetched]);\n  return [{\n    data,\n    setData,\n    isLoading\n  }];\n}\n_s(useProductsGet, \"p+WNfs7vn+wTPjqL8M9Xy/MX4AQ=\");","map":{"version":3,"names":["useState","useEffect","useCallback","axios","useProductsGet","_s","data","setData","isDataFetched","setIsDataFetched","isLoading","setIsLoading","getProducts","response","get","error","console"],"sources":["/Users/sofiapeyret/Desktop/cct-eng-SofiaLara-1/itv/src/hooks/useProductsGet.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\"\nimport axios from 'axios'\n\nexport default function useProductsGet() {\n  const [data, setData] = useState()\n  const [isDataFetched, setIsDataFetched] = useState(false);\n  const [isLoading, setIsLoading] = useState(true)\n\n\n  //declares the async data fetching function\n  const getProducts = useCallback(async () => {\n    setIsLoading(true)\n\n    try {\n      const response = await axios.get('http://localhost:8000/products')\n\n      setData(response.data)\n      setIsDataFetched(true)\n      setIsLoading(false)\n\n    } catch (error) {\n      console.error(error)\n    }\n  }, [])\n\n  //calls the fetching function on mount\n  useEffect(()=> { \n    if(!isDataFetched) {\n      getProducts()\n    }\n  }, [getProducts, isDataFetched])\n\n  return [{data, setData, isLoading}]\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACvC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,CAAC;EAClC,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;;EAGhD;EACA,MAAMY,WAAW,GAAGV,WAAW,CAAC,YAAY;IAC1CS,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,gCAAgC,CAAC;MAElEP,OAAO,CAACM,QAAQ,CAACP,IAAI,CAAC;MACtBG,gBAAgB,CAAC,IAAI,CAAC;MACtBE,YAAY,CAAC,KAAK,CAAC;IAErB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAd,SAAS,CAAC,MAAK;IACb,IAAG,CAACO,aAAa,EAAE;MACjBI,WAAW,CAAC,CAAC;IACf;EACF,CAAC,EAAE,CAACA,WAAW,EAAEJ,aAAa,CAAC,CAAC;EAEhC,OAAO,CAAC;IAACF,IAAI;IAAEC,OAAO;IAAEG;EAAS,CAAC,CAAC;AACrC;AAACL,EAAA,CA9BuBD,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}